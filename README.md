Copyright 2025 Attila Kormos(KoAt-DA). All Rights Reserved.

# NBA player stat comparison analysis

## Project Overview

This project aims to analyze and compare NBA players' performance metrics (Points, Rebounds, Assists, and Minutes played) using historical data(from the player's first season to the 2022-23 season) for machine learning predictions to the 2023-24 season and comparing these prediction with the players real stats for the 2023-24 sesson.The tool provides insights into player tendencies and potential anomalies.

## Setup

To run the project, you'll need to set up your database connection information in an .env file. The format for the connection URL is as follows:
DB_URL='postgresql+psycopg2://YourUsername:YourPassword@localhost:5432/YourDatabaseName'

Replace YourUsername, YourPassword, and YourDatabaseName with your actual PostgreSQL username, password, and database name, respectively.

Explanation
In the Python script, the connection to the database is established using the DB_URL environment variable that is loaded from the .env file using the decouple package.

## Data Files

- **actual_data.csv**: Players needed statistical data for the 2023-24 season.
- **all_season.csv**: This file is a Kaggle dataset which i used for historical data for ML predictions.It contains data from the 1996-97 season to 2022-23 season.
- **comparison_results.txt**: This file contains the results of the comparison script in message format.
- **player_stats.csv**: This file is another dataset which i made manually and contains only the choosed players statistic to 2023-24 season.
- **predictions.csv**: Predicted player statistics for the 2023-24 season generated by a machine learning model.
- **stats_for_comparison.csv**: This file is contains the data which is compared to each other.
- **stats_for_comparison.xlsx**: An Excel version of the above CSV file.

## Script Files

- **01_data_to_SQL.py**: Loads data into an SQL database. Make sure you have a working SQL database to run this script.
- **02_data_processing.py**: The script connects to an SQL database and loads NBA player data for selected players, filters it for analysis, and extracts specific metrics (Points, Rebounds, Assists, and Minutes). It then prepares the data in a structured format for further analysis or machine learning purposes.
- **03_ml_stat_prediction.py**: Uses machine learning techniques (like Linear Regression) to predict NBA player statistics for the 2023-24 season. This model requires the all_season.csv dataset for training.
- **04_stat_comparison.py**: This script is comparing predicted stats for the real stats from the 2023-24 season.
- **players_stats.py**: This script manually creates a DataFrame based on the player statistics for the player_stats.csv file.

## Run Order

1. `data_to_SQL.py`: Load the data into the SQL database.
2. `data_processing.py`: Process the data for analysis and machine learning.
3. `ml_stat_prediction.py`: Train and predict statistics.
4. `stat_comparison.py`: Compare predictions with actual statistics.

## Example output

Messages for LeBron James:
Points: LeBron James predicted Points average 26.7 is almost the same as the actual value 25.7.It was a good prediction!
Rebounds: LeBron James's predicted Rebounds average (8.27) is 0.97 higher than the actual value (7.3). This might indicate a potential inconsistency in performance metrics or a situational factor affecting play. Although the predicted minutes (34.54) closely align with the actual minutes (35.3), reviewing recent gameplay or lineup adjustments could provide valuable insights into this disparity.
Assist: LeBron James predicted Assist average 8.05 is almost the same as the actual value 8.3.It was a good prediction!

## Data Visualization

In addition to the scripts, I created Power BI visualizations to provide a more intuitive and interactive way of analyzing the NBA player statistics. These visualizations allow users to explore trends, compare player performance, and gain deeper insights into the dataset.
Feel free to browse the Screenshots folder for few images!

## Requirements

- **Python 3.7+**
  To run the project, you'll need to install the following dependencies:

- `pandas` (version >=1.0.0)
- `numpy` (version >=1.18.0)
- `scikit-learn` (version >=0.23.0)
- `sqlalchemy` (version >=1.3.20)
- `decouple` (version >=3.5)

## Conclusion

This project provides an in-depth analysis of NBA players' statistical performance, allowing comparisons between predicted values and actual results for the 2023-24 season. With the help of historical data and machine learning, the tool aims to uncover hidden patterns and potential anomalies in player performance. Future improvements might include incorporating additional metrics, expanding the machine learning model to incorporate more data, or fine-tuning the predictions with other algorithms.

ENJOY ANALYZING NBA PLAYERS STATS!
